plugins {
	id 'com.zyxist.chainsaw' version '0.3.1'
}

allprojects { 
	apply plugin: (it.name == 'system-test' ? 'application' : 'java-library')
	apply plugin: 'com.zyxist.chainsaw'
	apply plugin: 'eclipse'
	apply plugin: 'idea'
	
	javaModule.allowModuleNamingViolations = true

	eclipse {
		classpath {
			file.whenMerged {
				entries.findAll { 
					it.kind == 'lib' || it.kind == 'src' 
				}.each { 
					it.entryAttributes['module'] = 'true'
				}
			}
		}
	}
	
	repositories {
		mavenCentral()
	}
}

apply from: 'build-scripts/eclipseIncludeGenerated.gradle'

dependencies {
	implementation group: 'com.google.guava', name: 'guava', version: '26.0-jre'

	api project(':annotation')
	annotationProcessor project(':processor')
}
